<!DOCTYPE html>
<HTML>
      <head>
          <title>Validate Text</title>
          <meta charset="UTF-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <link rel="stylesheet" href="style.css">
      </head>
  <body>
    <img id="titleImage" src="images/Banner_image.jpg" alt="Banner">
    <br>
    <div class="header">
          <a href="index.html" >Home</a>
          <a href="validatealert.html">Validate Alert</a>
          <a href="formvalidation.html">Validate Text</a>
          <a href="form.html">New User</a>
          <a href="report.php">Report of Database</a>
          <a href="AJAX.html" style="pointer-events: none;" >Ajax Example</a>
	  <a href="jquery.html">JQuery Example</a>
    </div>
	  <br><br>
    <div>

		<script>
			function loadGetDoc() {
			  var xhttp = new XMLHttpRequest();
			  xhttp.onreadystatechange = function() {
			   if (this.readyState == 1 ) {
						document.getElementById("ready1").innerHTML =
						"Readystate = 1 and server connection established";
				   }
					 if (this.readyState == 2 ) {
						document.getElementById("ready2").innerHTML =
						"Readystate = 2 and Request has been received.";
				   }
					 if (this.readyState == 3 ) {
						document.getElementById("ready3").innerHTML =
						"Readystate = 3 and Request is being processed.";
				   }
					 if (this.readyState == 4 ) {
						
						document.getElementById("ready4").innerHTML =
						"Readystate = 4 and Request finished and Response is ready. ";
				   }
				if (this.readyState == 4 && this.status == 200) {
				  document.getElementById("test").innerHTML = this.responseText;
				  document.getElementById("callback").innerHTML = "This is my callback trigger";
				}
			  };
			  xhttp.open("GET", "testdoc.txt", true);
			  xhttp.send();
			}
			function loadPostDoc() {
				var xhttp = new XMLHttpRequest();
				var url = 'form.php';
				var f = document.getElementById("fname").value;
				var l = document.getElementById("lname").value;
				var e = document.getElementById("email").value;
				var p = document.getElementById("phone").value;
				var params = "fname="+f+"&lname="+l+"&email="+e+"&phone="+p;
				
				xhttp.open("POST", url, true);
				
				xhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
				
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 200) {
						document.getElementById("demo").innerHTML = this.responseText;
					}
				};
				xhttp.send(params);
			}
		</script>

		<h2>AJAX using GET method</h2>
		<button type="button" onclick="loadGetDoc()">Server Response</button>
		<h3>AJAX responses from the server</h3>
		<div id="ready1"></div>
		<div id="ready2"></div>
		<div id="ready3"></div>
		<div id="ready4"></div>
		<p id="test"></p>
		<p id="callback"></p>
		<div id="demo"><br><br>

		<h2>AJAX using POST method</h2>

		<fieldset>	
		  <label for="fname">First name:</label><br>
		  <input type="text" name="fname" id="fname" required><br>
  		  <label for="lname">Last name:</label><br>
		  <input type="text" name="lname" id="lname" required><br>
		  <label for="email">Email:</label><br>
		  <input type="email" name="email" id="email" required=""><br>
		  <label for="phone">Phone Number:</label><br>
		  <input type="tel" name="phone" id="phone" placeholder="123-456-7890" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}"><br>

		  <button type="button" value="Submit" onclick="loadPostDoc()">Request data with POST</button>
    		</fieldset>	
</div></body>
</html>
